<!DOCTYPE html>
<html lang="ru-RU">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2.0">
      <title>S2L</title>
      <meta name="description" content="a silly simple short links generator" />
   </head>
   <body>
      <h1>Compress your link</h1>
      <form>
         <input type="text" name="link">
         <br>
         <button type="button">Compress</button>
         <br>
         <output></output>
      </form>
      <script>
         const input = document.querySelector('input');
         const btn = document.querySelector('button');
         const output = document.querySelector('output');

         btn.addEventListener('click', () => {
            const link = input.value;
            fetch(location.origin + '/compress', {
               method: 'POST',
               body: JSON.stringify({link})
            })
               .then((res) => res.text())
               .then((text) => output.textContent = text)
               .catch((err) => output.textContent = err.message);
         });
      </script>
   </body>
</html>